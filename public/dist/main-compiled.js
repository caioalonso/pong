"use strict";function setup(){renderer=PIXI.autoDetectRenderer(256,256),renderer.view.style.position="absolute",renderer.view.style.display="block",renderer.autoResize=!0,renderer.resize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.view),stage=new Container;var e=new Graphics;e.lineStyle(4,16777215,.2),e.moveTo(0,0),e.lineTo(0,renderer.height),e.x=renderer.width/2,e.y=0,stage.addChild(e);var n,r,t=60,i=0;WebFont.load({custom:{families:["FFF"]},active:function(){n=new Text("0",{fontFamily:"FFF",fontSize:"4vw",fill:"white"}),n.position.set(renderer.width/2+t,i),stage.addChild(n),r=new Text("0",{fontFamily:"FFF",fontSize:"4vw",fill:"white"}),r.position.set(renderer.width/2-r.width-t,i),stage.addChild(r)}}),rectangle=new Graphics,rectangle.beginFill(16777215),rectangle.drawRect(0,0,20,200),rectangle.endFill(),rectangle.position.set(0,0),stage.addChild(rectangle),rectangle2=new Graphics,rectangle2.beginFill(16777215),rectangle2.drawRect(0,0,20,200),rectangle2.endFill(),rectangle2.position.set(renderer.width-rectangle2.width,0),stage.addChild(rectangle2),rectangle.vy=0;var d=keyboard(38),a=keyboard(40);d.press=function(){return rectangle.vy=-7},d.release=function(){a.isDown||(rectangle.vy=0)},a.press=function(){return rectangle.vy=7},a.release=function(){d.isDown||(rectangle.vy=0)},bgtimer=setInterval(function(){var e={y:rectangle.y};socket.json.emit("sync",e)},50),renderer.render(stage),gameLoop()}function gameLoop(){requestAnimationFrame(gameLoop),contain(rectangle,{x:0,y:0,width:renderer.width,height:renderer.height}),rectangle.y+=rectangle.vy,renderer.render(stage)}function keyboard(e){var n={};return n.code=e,n.isDown=!1,n.isUp=!0,n.press=void 0,n.release=void 0,n.downHandler=function(e){e.keyCode===n.code&&(n.isUp&&n.press&&n.press(),n.isDown=!0,n.isUp=!1,e.preventDefault())},n.upHandler=function(e){e.keyCode===n.code&&(n.isDown&&n.release&&n.release(),n.isDown=!1,n.isUp=!0,e.preventDefault())},window.addEventListener("keydown",n.downHandler.bind(n),!1),window.addEventListener("keyup",n.upHandler.bind(n),!1),n}function contain(e,n){var r=void 0;return e.x<n.x&&(e.x=n.x,r="left"),e.y<n.y&&(e.y=n.y,r="top"),e.x+e.width>n.width&&(e.x=n.width-e.width,r="right"),e.y+e.height>n.height&&(e.y=n.height-e.height,r="bottom"),r}var socket=io();socket.on("sync",function(e){rectangle2.y=e.y});var Graphics=PIXI.Graphics,Container=PIXI.Container,Text=PIXI.Text,renderer,stage,rectangle,rectangle2,bgtimer,collision;setup(),window.onresize=function(e){var n=window.innerWidth,r=window.innerHeight;renderer.view.style.width=n+"px",renderer.view.style.height=r+"px",renderer.resize(n,r)};
//# sourceMappingURL=main-compiled.js.map
