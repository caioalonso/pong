{"version":3,"sources":["main.js"],"names":["renderer","view","style","display","autoResize","resize","window","innerWidth","innerHeight","document","body","appendChild","stage","Container","line","lineStyle","Graphics","moveTo","lineTo","x","height","y","width","addChild","topPadding","message","position","set","fontFamily","fontSize","fill","message2","centerSpacing","rectangle","drawRect","rectangle2","beginFill","keyboard","up","press","vy","release","down","isDown","render","gameLoop","contain","setup","key","keyCode","isUp","downHandler","event","code","preventDefault","addEventListener","bind","collision","upHandler","sprite","container","undefined","socket","io","on","data","PIXI","Text","requestAnimationFrame","w","h"],"mappings":"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","file":"main-compiled.js","sourcesContent":["/* global io PIXI */\n'use strict'\n\nvar socket = io()\nsocket.on('welcome', data => {\n})\n\nconst Graphics = PIXI.Graphics\nconst Container = PIXI.Container\nconst Text = PIXI.Text\n\nvar renderer, stage, rectangle, rectangle2\n\nfunction setup () {\n  renderer = PIXI.autoDetectRenderer(256, 256)\n  renderer.view.style.position = 'absolute'\n  renderer.view.style.display = 'block'\n  renderer.autoResize = true\n  renderer.resize(window.innerWidth, window.innerHeight)\n\n  document.body.appendChild(renderer.view)\n\n  stage = new Container()\n\n  var line = new Graphics()\n  line.lineStyle(4, 0xFFFFFF, 0.2)\n  line.moveTo(0, 0)\n  line.lineTo(0, renderer.height)\n  line.x = renderer.width/2\n  line.y = 0\n  stage.addChild(line)\n\n  var centerSpacing = 60\n  var topPadding = 0\n\n  var message = new Text(\n    '0',\n    {fontFamily: 'FFF Forward', fontSize: '4vw', fill: 'white'}\n  )\n  message.position.set(renderer.width/2 + centerSpacing, topPadding)\n  stage.addChild(message)\n\n  var message2 = new Text(\n    '0',\n    {fontFamily: 'FFF Forward', fontSize: '4vw', fill: 'white'}\n  )\n  message2.position.set(renderer.width/2 - message2.width - centerSpacing, topPadding)\n  stage.addChild(message2)\n\n  rectangle = new Graphics()\n  rectangle.beginFill(0xFFFFFF)\n  rectangle.drawRect(0, 0, 20, 200)\n  rectangle.endFill()\n  rectangle.position.set(0, 0)\n  stage.addChild(rectangle)\n\n  rectangle2 = new Graphics()\n  rectangle2.beginFill(0xFFFFFF)\n  rectangle2.drawRect(0, 0, 20, 200)\n  rectangle2.endFill()\n  rectangle2.position.set(renderer.width - rectangle2.width, 0)\n  stage.addChild(rectangle2)\n\n  rectangle.vy = 0\n\n  var up = keyboard(38)\n  var down = keyboard(40)\n\n  up.press = () => rectangle.vy = -7\n\n  up.release = () => {\n    if(!down.isDown) {\n      rectangle.vy = 0\n    }\n  }\n\n  down.press = () => rectangle.vy = 7\n\n  down.release = () => {\n    if(!up.isDown) {\n      rectangle.vy = 0\n    }\n  }\n\n  renderer.render(stage)\n  gameLoop()\n}\n\nvar collision\n\nfunction gameLoop () {\n  requestAnimationFrame(gameLoop)\n  contain(rectangle, {x:0, y:0, width: renderer.width, height: renderer.height})\n  rectangle.y += rectangle.vy\n  renderer.render(stage)\n}\n\nsetup()\n\nwindow.onresize = function (event){\n  var w = window.innerWidth\n  var h = window.innerHeight\n  renderer.view.style.width = w + \"px\"\n  renderer.view.style.height = h + \"px\"\n  renderer.resize(w,h)\n}\n\nfunction keyboard(keyCode) {\n  var key = {};\n  key.code = keyCode;\n  key.isDown = false;\n  key.isUp = true;\n  key.press = undefined;\n  key.release = undefined;\n  //The `downHandler`\n  key.downHandler = function(event) {\n    if (event.keyCode === key.code) {\n      if (key.isUp && key.press) key.press();\n      key.isDown = true;\n      key.isUp = false;\n    }\n    event.preventDefault();\n  };\n\n  //The `upHandler`\n  key.upHandler = function(event) {\n    if (event.keyCode === key.code) {\n      if (key.isDown && key.release) key.release();\n      key.isDown = false;\n      key.isUp = true;\n    }\n    event.preventDefault();\n  };\n\n  //Attach event listeners\n  window.addEventListener(\n    \"keydown\", key.downHandler.bind(key), false\n  );\n  window.addEventListener(\n    \"keyup\", key.upHandler.bind(key), false\n  );\n  return key;\n}\n\nfunction contain(sprite, container) {\n  var collision = undefined;\n\n  //Left\n  if (sprite.x < container.x) {\n    sprite.x = container.x;\n    collision = \"left\";\n  }\n\n  //Top\n  if (sprite.y < container.y) {\n    sprite.y = container.y;\n    collision = \"top\";\n  }\n\n  //Right\n  if (sprite.x + sprite.width > container.width) {\n    sprite.x = container.width - sprite.width;\n    collision = \"right\";\n  }\n\n  //Bottom\n  if (sprite.y + sprite.height > container.height) {\n    sprite.y = container.height - sprite.height;\n    collision = \"bottom\";\n  }\n\n  //Return the `collision` value\n  return collision;\n}\n"]}